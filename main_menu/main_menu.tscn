[gd_scene load_steps=19 format=3 uid="uid://c0wwakjxlh3e0"]

[ext_resource type="Script" uid="uid://cp7edaijm31ev" path="res://main_menu/main_menu.gd" id="1_06t4h"]
[ext_resource type="PackedScene" uid="uid://d4knqd1ntmf3v" path="res://main_menu/table.tscn" id="2_7vrkn"]
[ext_resource type="Theme" uid="uid://cp8q24ofw3yfc" path="res://fonts/default_font_theme.tres" id="2_nlkkf"]
[ext_resource type="Script" uid="uid://dkkjllrgnrmj" path="res://main_menu/license_container.gd" id="4_glbon"]
[ext_resource type="Script" uid="uid://cqschvh167jbx" path="res://main_menu/on_screen_keyboard.gd" id="4_jix8l"]
[ext_resource type="FontFile" uid="uid://c7g62n6vyc34w" path="res://fonts/Roman SD.ttf" id="5_glbon"]

[sub_resource type="Gradient" id="Gradient_7vrkn"]
colors = PackedColorArray(0.305882, 0.678431, 0.960784, 1, 0.415686, 0.584314, 0.152941, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_fu7sn"]
gradient = SubResource("Gradient_7vrkn")
fill_to = Vector2(0, 1)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_jix8l"]
texture = SubResource("GradientTexture2D_fu7sn")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_fu7sn"]
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 1, 1, 1)

[sub_resource type="Curve" id="Curve_jix8l"]
_data = [Vector2(0, 0.505618), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_f1jbl"]
width = 32
curve = SubResource("Curve_jix8l")

[sub_resource type="Curve" id="Curve_glbon"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_i2p71"]
width = 32
curve = SubResource("Curve_glbon")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_nlkkf"]
particle_flag_disable_z = true
direction = Vector3(0, -1, 0)
spread = 20.0
initial_velocity_min = 30.0
initial_velocity_max = 40.0
angular_velocity_min = -10.0
angular_velocity_max = 9.99998
gravity = Vector3(0, 9.81, 0)
tangential_accel_min = -20.0
tangential_accel_max = 20.0
scale_min = 8.0
scale_max = 10.0
scale_curve = SubResource("CurveTexture_i2p71")
color = Color(0.87451, 0.443137, 0.14902, 1)
emission_curve = SubResource("CurveTexture_f1jbl")

[sub_resource type="Animation" id="Animation_8qtwp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("VolcanoLava:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_qe12f"]
resource_name = "fun_text"
length = 4.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("VolcanoLava:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, true, false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.2, 1.2), Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dy7ct"]
_data = {
&"RESET": SubResource("Animation_8qtwp"),
&"fun_text": SubResource("Animation_qe12f")
}

[node name="MainMenu" type="Control" node_paths=PackedStringArray("menu_container", "new_game_button", "retry_button", "resume_button", "quit_button", "random_seed_input", "seed_submit_button", "score_table", "on_screen_keyboard", "open_source_licenses", "license_container", "license_text", "title_text", "title_text_particles", "title_text_animation")]
layout_mode = 3
anchors_preset = 0
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("1_06t4h")
menu_container = NodePath("PanelContainer")
new_game_button = NodePath("PanelContainer/MarginContainer/VBoxContainer/NewGameButton")
retry_button = NodePath("PanelContainer/MarginContainer/VBoxContainer/RetryButton")
resume_button = NodePath("PanelContainer/MarginContainer/VBoxContainer/ResumeButton")
quit_button = NodePath("PanelContainer/MarginContainer/VBoxContainer/QuitButton")
random_seed_input = NodePath("PanelContainer/MarginContainer/VBoxContainer/MarginContainer/HBoxContainer/RandomSeedInput")
seed_submit_button = NodePath("PanelContainer/MarginContainer/VBoxContainer/MarginContainer/HBoxContainer/SeedSubmitButton")
score_table = NodePath("PanelContainer/MarginContainer/VBoxContainer/ScoreTable")
on_screen_keyboard = NodePath("PanelContainer/MarginContainer/VBoxContainer/OnScreenKeyboard")
open_source_licenses = NodePath("PanelContainer/MarginContainer/VBoxContainer/OpenSourceLicensesButton")
license_container = NodePath("PanelContainer/MarginContainer/LicenseContainer")
license_text = NodePath("PanelContainer/MarginContainer/LicenseContainer/MarginContainer/LicenseText")
title_text = NodePath("RichTextLabel")
title_text_particles = NodePath("RichTextLabel/VolcanoLava")
title_text_animation = NodePath("RichTextLabel/AnimationPlayer")

[node name="PanelContainer" type="PanelContainer" parent="."]
self_modulate = Color(1, 1, 1, 0.784314)
texture_filter = 1
layout_mode = 0
offset_right = 1920.0
offset_bottom = 1080.0
theme_override_styles/panel = SubResource("StyleBoxTexture_jix8l")

[node name="MarginContainer" type="MarginContainer" parent="PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 100
theme_override_constants/margin_top = 200
theme_override_constants/margin_right = 100
theme_override_constants/margin_bottom = 100

[node name="VBoxContainer" type="VBoxContainer" parent="PanelContainer/MarginContainer"]
layout_mode = 2

[node name="NewGameButton" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
focus_neighbor_right = NodePath("../RetryButton")
focus_neighbor_bottom = NodePath("../RetryButton")
theme = ExtResource("2_nlkkf")
text = "New Game"

[node name="RetryButton" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer"]
visible = false
layout_mode = 2
focus_neighbor_right = NodePath("../ResumeButton")
focus_neighbor_bottom = NodePath("../ResumeButton")
theme = ExtResource("2_nlkkf")
text = "Retry With Same Seed"

[node name="ResumeButton" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer"]
visible = false
layout_mode = 2
focus_neighbor_right = NodePath("../QuitButton")
focus_neighbor_bottom = NodePath("../QuitButton")
theme = ExtResource("2_nlkkf")
text = "Resume"

[node name="QuitButton" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
focus_neighbor_right = NodePath("../MarginContainer/HBoxContainer/RandomSeedInput")
focus_neighbor_bottom = NodePath("../MarginContainer/HBoxContainer/RandomSeedInput")
theme = ExtResource("2_nlkkf")
text = "Quit"

[node name="MarginContainer" type="MarginContainer" parent="PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_bottom = 20

[node name="HBoxContainer" type="HBoxContainer" parent="PanelContainer/MarginContainer/VBoxContainer/MarginContainer"]
layout_mode = 2

[node name="RichTextLabel" type="RichTextLabel" parent="PanelContainer/MarginContainer/VBoxContainer/MarginContainer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("2_nlkkf")
theme_override_font_sizes/normal_font_size = 24
text = "Random Seed:"
fit_content = true
scroll_active = false
autowrap_mode = 0

[node name="RandomSeedInput" type="LineEdit" parent="PanelContainer/MarginContainer/VBoxContainer/MarginContainer/HBoxContainer"]
layout_mode = 2
focus_neighbor_right = NodePath("../SeedSubmitButton")
focus_neighbor_bottom = NodePath("../SeedSubmitButton")
theme = ExtResource("2_nlkkf")
theme_override_font_sizes/font_size = 24
max_length = 5
context_menu_enabled = false
emoji_menu_enabled = false
select_all_on_focus = true

[node name="SeedSubmitButton" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/MarginContainer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("2_nlkkf")
theme_override_font_sizes/font_size = 24
disabled = true
text = "Submit"

[node name="OnScreenKeyboard" type="PanelContainer" parent="PanelContainer/MarginContainer/VBoxContainer" node_paths=PackedStringArray("line_edit")]
visible = false
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
focus_neighbor_bottom = NodePath("../ScoreTable")
script = ExtResource("4_jix8l")
line_edit = NodePath("../MarginContainer/HBoxContainer/RandomSeedInput")
separation = Vector2i(2, 2)

[node name="ScoreTable" parent="PanelContainer/MarginContainer/VBoxContainer" instance=ExtResource("2_7vrkn")]
layout_mode = 2
focus_neighbor_top = NodePath("../MarginContainer/HBoxContainer/RandomSeedInput")
focus_neighbor_bottom = NodePath("../OpenSourceLicensesButton")
focus_next = NodePath("../OpenSourceLicensesButton")
focus_previous = NodePath("../MarginContainer/HBoxContainer/RandomSeedInput")

[node name="OpenSourceLicensesButton" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 8
focus_neighbor_left = NodePath("../ScoreTable")
focus_neighbor_top = NodePath("../ScoreTable")
focus_neighbor_right = NodePath("../NewGameButton")
focus_neighbor_bottom = NodePath("../NewGameButton")
focus_next = NodePath("../NewGameButton")
focus_previous = NodePath("../ScoreTable")
theme = ExtResource("2_nlkkf")
theme_override_font_sizes/font_size = 22
text = "Open Source Licenses"

[node name="LicenseContainer" type="PanelContainer" parent="PanelContainer/MarginContainer"]
visible = false
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_styles/panel = SubResource("StyleBoxFlat_fu7sn")
script = ExtResource("4_glbon")

[node name="MarginContainer" type="MarginContainer" parent="PanelContainer/MarginContainer/LicenseContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="LicenseText" type="RichTextLabel" parent="PanelContainer/MarginContainer/LicenseContainer/MarginContainer"]
clip_contents = false
layout_mode = 2
theme = ExtResource("2_nlkkf")
theme_override_font_sizes/normal_font_size = 20
fit_content = true
autowrap_mode = 0
horizontal_alignment = 1

[node name="RichTextLabel" type="RichTextLabel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 127.0
offset_top = 97.0
offset_right = 580.0
offset_bottom = 185.0
grow_horizontal = 2
grow_vertical = 2
rotation = -0.174533
theme_override_fonts/normal_font = ExtResource("5_glbon")
theme_override_font_sizes/normal_font_size = 46
text = "Pyroclastic Go!"
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="VolcanoLava" type="GPUParticles2D" parent="RichTextLabel"]
texture_filter = 1
position = Vector2(167.938, 26.5658)
amount = 50
lifetime = 6.0
explosiveness = 0.9
local_coords = true
process_material = SubResource("ParticleProcessMaterial_nlkkf")

[node name="AnimationPlayer" type="AnimationPlayer" parent="RichTextLabel"]
libraries = {
&"": SubResource("AnimationLibrary_dy7ct")
}

[connection signal="pressed" from="PanelContainer/MarginContainer/VBoxContainer/OpenSourceLicensesButton" to="." method="_on_open_source_licenses_button_pressed"]
